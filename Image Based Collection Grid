{% comment %} {% schema %}
{
  "name": "Category Grid",
  "settings": [],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category Title"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Category Grid",
      "blocks": [
        { "type": "category", "settings": { "title": "Women" } },
        { "type": "category", "settings": { "title": "Accessories" } },
        { "type": "category", "settings": { "title": "Summer Outfit" } }
      ]
    }
  ]
}
{% endschema %}

<div class="category-grid">
  {% assign per_row = 3 %}
  {% assign row_index = 0 %}
  {% for block in section.blocks %}
    {% assign mod_index = forloop.index0 | modulo: per_row %}
    {% if mod_index == 0 %}
      {% assign row_index = row_index | plus: 1 %}
      <div class="category-row {% if row_index > 1 %}hidden-category{% endif %}">
        <!-- Big left item -->
        <div class="big-category category-item">
          {% if block.settings.image %}
            <img src="{{ block.settings.image | img_url: '900x' }}" alt="{{ block.settings.title }}">
          {% endif %}
          <a href="{{ block.settings.link }}" class="category-btn">{{ block.settings.title }}</a>
        </div>
        <!-- Right stacked column -->
        <div class="right-categories">
    {% else %}
          <div class="category-item">
            {% if block.settings.image %}
              <img src="{{ block.settings.image | img_url: '600x' }}" alt="{{ block.settings.title }}">
            {% endif %}
            <a href="{{ block.settings.link }}" class="category-btn">{{ block.settings.title }}</a>
          </div>
    {% endif %}

    {% if mod_index == 2 or forloop.last %}
        </div> <!-- close right column -->
      </div> <!-- close category-row -->
    {% endif %}
  {% endfor %}
</div>

{% if section.blocks.size > per_row %}
  <div style="text-align:center; margin-top:20px;">
    <button id="seeMoreBtn" class="see-more-btn">See More</button>
  </div>
{% endif %}

<style>
  .category-row {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
    max-width: 1500px;
    margin: 0px auto;
  }

  /* Fixed sizes */
  .big-category img {
    width: 100%;
    height: 600px;
    object-fit: cover;
    border-radius: 10px;
  }

  .right-categories {
    display: grid;
    grid-template-rows: 1fr 1fr;
    gap: 20px;
  }

  .right-categories img {
    width: 100%;
    height: 290px;
    object-fit: cover;
    border-radius: 10px;
  }

  .category-item {
    position: relative;
    text-align: center;
  }

  .category-btn {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    background: #fff;
    padding: 8px 15px;
    border-radius: 30px;
    font-weight: bold;
    text-decoration: none;
    color: #000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }

  .hidden-category {
    display: none;
  }

  .see-more-btn {
    background: #000;
    color: #fff;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    border: none;
    font-weight: bold;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function(){
    var btn = document.getElementById("seeMoreBtn");
    if(btn){
      btn.addEventListener("click", function(){
        document.querySelectorAll(".hidden-category").forEach(function(el){
          el.style.display = "grid";
        });
        btn.style.display = "none";
      });
    }
  });
</script>
 {% endcomment %}

{% comment %} 
 {% schema %}
{
  "name": "Category Grid",
  "settings": [],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category Title"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Category Grid",
      "blocks": [
        { "type": "category", "settings": { "title": "Women" } },
        { "type": "category", "settings": { "title": "Accessories" } },
        { "type": "category", "settings": { "title": "Summer Outfit" } }
      ]
    }
  ]
}
{% endschema %}

<div class="category-grid">
  {% assign per_row = 3 %}
  {% assign row_index = 0 %}
  {% for block in section.blocks %}
    {% assign mod_index = forloop.index0 | modulo: per_row %}
    {% if mod_index == 0 %}
      {% assign row_index = row_index | plus: 1 %}
      <div class="category-row {% if row_index > 1 %}hidden-category{% endif %}">
        <!-- Big left item -->
        <a href="{{ block.settings.link }}" class="big-category category-item">
          {% if block.settings.image %}
            <img src="{{ block.settings.image | img_url: '900x' }}" alt="{{ block.settings.title }}">
          {% endif %}
          <span class="category-btn">{{ block.settings.title }}</span>
        </a>
        <!-- Right stacked column -->
        <div class="right-categories">
    {% else %}
          <a href="{{ block.settings.link }}" class="category-item">
            {% if block.settings.image %}
              <img src="{{ block.settings.image | img_url: '600x' }}" alt="{{ block.settings.title }}">
            {% endif %}
            <span class="category-btn">{{ block.settings.title }}</span>
          </a>
    {% endif %}

    {% if mod_index == 2 or forloop.last %}
        </div> <!-- close right column -->
      </div> <!-- close category-row -->
    {% endif %}
  {% endfor %}
</div>

{% if section.blocks.size > per_row %}
  <div style="text-align:center; margin-top:20px;">
    <button id="seeMoreBtn" class="see-more-btn">See More</button>
  </div>
{% endif %}

<style>
/* Container and rows */
.category-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px; /* Gap between rows */
  max-width: 1500px;
  margin: 0 auto;
}

.category-row {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px; /* Gap between big-left and right stacked column */
}

/* Right column stacked items */
.right-categories {
  display: grid;
  grid-template-rows: 1fr 1fr;
  gap: 20px;
}

/* Big category image */
.big-category img {
  width: 100%;
  height: 600px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}

/* Right category images */
.right-categories img {
  width: 100%;
  height: 290px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}

/* Category block */
.category-item {
  position: relative;
  display: block;
  text-align: center;
  overflow: hidden;
  border-radius: 10px;
  transition: transform 0.3s;
}

.category-item:hover {
  transform: scale(1.03);
}

/* Category button */
.category-btn {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.9);
  padding: 8px 15px;
  border-radius: 30px;
  font-weight: bold;
  text-decoration: none;
  color: #000;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* Hidden rows */
.hidden-category {
  display: none;
}

/* See More button */
.see-more-btn {
  background: #000;
  color: #fff;
  padding: 10px 20px;
  border-radius: 25px;
  cursor: pointer;
  border: none;
  font-weight: bold;
}

/* Responsive */
@media (max-width: 1024px) {
  .category-row {
    grid-template-columns: 1fr;
    gap: 15px;
  }
  .right-categories {
    grid-template-rows: 1fr 1fr;
    gap: 15px;
    margin-top: 15px;
  }
  .big-category img {
    height: 400px;
  }
  .right-categories img {
    height: 200px;
  }
}

@media (max-width: 768px) {
  .category-row {
    gap: 15px;
  }
  .right-categories {
    gap: 10px;
  }
  .big-category img {
    height: 300px;
  }
  .right-categories img {
    height: 150px;
  }
  .category-btn {
    padding: 5px 10px;
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  .category-row {
    gap: 10px;
  }
  .right-categories {
    gap: 10px;
  }
  .big-category img,
  .right-categories img {
    height: 200px;
  }
  .category-btn {
    padding: 4px 8px;
    font-size: 12px;
  }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function(){
  var btn = document.getElementById("seeMoreBtn");
  if(btn){
    btn.addEventListener("click", function(){
      document.querySelectorAll(".hidden-category").forEach(function(el){
        el.style.display = "grid";
      });
      btn.style.display = "none";
    });
  }
});
</script> {% endcomment %}



{% schema %}
{
  "name": "Category Grid",
  "settings": [],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category Title"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Category Grid",
      "blocks": [
        { "type": "category", "settings": { "title": "Women" } },
        { "type": "category", "settings": { "title": "Accessories" } },
        { "type": "category", "settings": { "title": "Summer Outfit" } }
      ]
    }
  ]
}
{% endschema %}

{% assign per_row = 3 %}

<div class="category-grid">
  {% assign row_index = 0 %}
  {% for block in section.blocks %}
    {% assign mod_index = forloop.index0 | modulo: per_row %}
    {% if mod_index == 0 %}
      {% assign row_index = row_index | plus: 1 %}
      <div class="category-row {% if row_index > 1 %}hidden-category{% endif %}">
        <!-- Big left item -->
        <a href="{{ block.settings.link }}" class="big-category category-item">
          {% if block.settings.image %}
            <img src="{{ block.settings.image | img_url: '900x' }}" alt="{{ block.settings.title }}">
          {% endif %}
          <span class="category-btn">{{ block.settings.title }}</span>
        </a>
        <!-- Right stacked column -->
        <div class="right-categories">
    {% else %}
          <a href="{{ block.settings.link }}" class="category-item">
            {% if block.settings.image %}
              <img src="{{ block.settings.image | img_url: '600x' }}" alt="{{ block.settings.title }}">
            {% endif %}
            <span class="category-btn">{{ block.settings.title }}</span>
          </a>
    {% endif %}

    {% if mod_index == 2 or forloop.last %}
        </div> <!-- close right column -->
      </div> <!-- close category-row -->
    {% endif %}
  {% endfor %}
</div>

{% if section.blocks.size > per_row %}
  <div style="text-align:center; margin-top:20px;">
    <button id="seeMoreBtn" class="see-more-btn">See More</button>
  </div>
{% endif %}

<style>
/* Container and rows */
.category-grid {
  box-sizing: border-box;
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px; /* Gap between rows */
  max-width: 1440px;
  margin: 0 auto;
  padding:36px 0px;
}

.category-row {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px; /* Gap between big-left and right stacked column */
}

/* Right column stacked items */
.right-categories {
  display: grid;
  grid-template-rows: 1fr 1fr;
  gap: 20px;
}

/* Big category image */
.big-category img {
  width: 100%;
  height: 600px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}

/* Right category images */
.right-categories img {
  width: 100%;
  height: 290px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}

/* Category block */
.category-item {
  position: relative;
  display: block;
  text-align: center;
  overflow: hidden;
  border-radius: 10px;
  transition: transform 0.3s;
}

.category-item:hover {
  transform: scale(1.03);
}

/* Category button */
.category-btn {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.9);
  padding: 8px 15px;
  border-radius: 30px;
  font-weight: bold;
  text-decoration: none;
  color: #000;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* Hidden rows */
.hidden-category {
  display: none;
}

/* See More button */
.see-more-btn {
  background: #000;
  color: #fff;
  padding: 10px 20px;
  border-radius: 25px;
  cursor: pointer;
  border: none;
  font-weight: bold;
}

/* Responsive */
@media (max-width: 1024px) {
  .category-row {
    grid-template-columns: 1fr;
    gap: 15px;
  }
  .right-categories {
    grid-template-rows: 1fr 1fr;
    gap: 15px;
    margin-top: 15px;
  }
  .big-category img {
    height: 400px;
  }
  .right-categories img {
    height: 200px;
  }
}

@media (max-width: 768px) {
  .category-row {
    gap: 15px;
  }
  .right-categories {
    gap: 10px;
  }
  .big-category img {
    height: 300px;
  }
  .right-categories img {
    height: 150px;
  }
  .category-btn {
    padding: 5px 10px;
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  .category-row {
    gap: 10px;
  }
  .right-categories {
    gap: 10px;
  }
  .big-category img,
  .right-categories img {
    height: 200px;
  }
  .category-btn {
    padding: 4px 8px;
    font-size: 12px;
  }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function(){
  var btn = document.getElementById("seeMoreBtn");
  if(btn){
    btn.addEventListener("click", function(){
      document.querySelectorAll(".hidden-category").forEach(function(el){
        el.style.display = "grid";
      });
      btn.style.display = "none";
    });
  }
});
</script>

