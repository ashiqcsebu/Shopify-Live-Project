<!-- Add Swiper Styles --> 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"/>

<style>
  .custom-slider {
    width: 100%;
    margin: auto;
    padding: 80px 0; /* Added 80px top & bottom */
  }

  .swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-slide img {
    width: 100%;
    height: 300px; /* Larger photo size */
    object-fit: cover;
    border-radius: 12px;
    transition: transform 0.3s ease-in-out;
    /* Removed box-shadow */
  }

  .swiper-slide img:hover {
    transform: scale(1.05);
  }

  /* Hide pagination dots */
  .swiper-pagination {
    display: none;
  }

  /* Navigation arrows */
  .swiper-button-prev, .swiper-button-next {
    color: #333;
    width: 32px;
    height: 32px;
  }
</style>

<div class="custom-slider">
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide">
          {% if block.settings.product != blank %}
            {% assign product = all_products[block.settings.product] %}
            <a href="{{ product.url }}">
              <img src="{{ block.settings.image | img_url: 'master' }}" alt="{{ product.title }}">
            </a>
          {% elsif block.settings.image != blank %}
            <img src="{{ block.settings.image | img_url: 'master' }}" alt="slider image">
          {% else %}
            <img src="https://via.placeholder.com/1000x600?text=Add+Image" alt="placeholder">
          {% endif %}
        </div>
      {% endfor %}
    </div>
    <!-- Navigation Arrows -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</div>

<!-- Add Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script>
  var swiper = new Swiper(".mySwiper", {
    slidesPerView: 5,
    spaceBetween: 40, // 40px gap between photos
    loop: true,
    speed: 1200,
    autoplay: {
      delay: 2000,
      disableOnInteraction: false,
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    breakpoints: {
      320: { slidesPerView: 2, spaceBetween: 20 },
      480: { slidesPerView: 3, spaceBetween: 25 },
      640: { slidesPerView: 4, spaceBetween: 30 },
      768: { slidesPerView: 5, spaceBetween: 35 },
      1024: { slidesPerView: 6, spaceBetween: 40 },
      1400: { slidesPerView: 7, spaceBetween: 40 }
    },
  });
</script>

{% schema %}
{
  "name": "Image Slider",
  "settings": [],
  "blocks": [
    {
      "type": "image",
      "name": "Slide Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Upload Image"
        },
        {
          "type": "product",
          "id": "product",
          "label": "Select Product (for redirect)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Image Slider"
    }
  ]
}
{% endschema %}
