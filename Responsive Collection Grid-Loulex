Responsive Collection Grid -Loulex, Aaria Tees
https://www.loulex.eu/en

https://shopaariatees.com/

{% comment %}
  Final Polish Pro: 
  - Section Heading Font & Alignment.
  - Card Typography (Heading, Subheading, Button).
  - Button Font Family & Size Control.
  - Smart Flex Grid (2/3/4 per row) with dynamic filling.
{% endcomment %}

{%- style -%}
  /* --- FONT LOADING --- */
  {{ section.settings.heading_font | font_face: font_display: 'swap' }}
  {{ section.settings.card_heading_font | font_face: font_display: 'swap' }}
  {{ section.settings.card_subheading_font | font_face: font_display: 'swap' }}
  {{ section.settings.btn_font | font_face: font_display: 'swap' }}

  /* --- SECTION BASE --- */
  .section-{{ section.id }} {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    background-color: {{ section.settings.section_bg }};
    overflow: hidden;
  }

  .collection-wrapper {
    max-width: {{ section.settings.container_width }}px;
    margin: 0 auto;
    padding-left: {{ section.settings.padding_side_desktop }}%;
    padding-right: {{ section.settings.padding_side_desktop }}%;
  }

  /* --- SECTION HEADING --- */
  .section-heading-{{ section.id }} {
    text-align: {{ section.settings.heading_align }};
    margin-bottom: 45px;
  }
  
  .section-heading-{{ section.id }} h2 {
    font-family: {{ section.settings.heading_font.family }}, {{ section.settings.heading_font.fallback_families }};
    font-weight: {{ section.settings.heading_font.weight }};
    font-style: {{ section.settings.heading_font.style }};
    font-size: {{ section.settings.heading_size_desktop }}px !important; 
    color: {{ section.settings.heading_color }} !important;
    margin: 0;
    line-height: 1.2;
  }

  /* --- SMART FLEX GRID --- */
  .collection-container {
    display: flex;
    flex-wrap: wrap;
    gap: {{ section.settings.grid_gap_desktop }}px;
  }

  .collection-card {
    position: relative;
    display: block;
    text-decoration: none;
    background-color: #f4f4f4;
    overflow: hidden;
    height: {{ section.settings.card_height_desktop }}px;
    border-radius: {{ section.settings.card_radius }}px !important;
    
    /* Logic: Flex-Grow for smart row filling */
    {% assign cards_per_row = section.settings.cards_per_row | plus: 0 %}
    flex: 1 1 calc((100% / {{ section.settings.cards_per_row }}) - {{ section.settings.grid_gap_desktop }}px);
    min-width: calc(25% - {{ section.settings.grid_gap_desktop }}px);
    
    z-index: 1;
  }

  .collection-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
  }

  /* --- OVERLAY CONTENT --- */
  .card-overlay-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0,0,0,{{ section.settings.overlay_opacity }}) 0%, rgba(0,0,0,0) 65%);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: {{ section.settings.content_align }};
    padding: 40px 30px;
    z-index: 10;
    pointer-events: none;
  }

  .text-content-wrapper {
    text-align: {% if section.settings.content_align == 'flex-start' %}left{% elsif section.settings.content_align == 'flex-end' %}right{% else %}center{% endif %};
    display: flex;
    flex-direction: column;
    align-items: {{ section.settings.content_align }};
    margin-bottom: 60px;
    width: 100%;
  }

  /* --- TYPOGRAPHY: SUBHEADING --- */
  .card-sub-text {
    font-family: {{ section.settings.card_subheading_font.family }}, {{ section.settings.card_subheading_font.fallback_families }};
    font-weight: {{ section.settings.card_subheading_font.weight }};
    font-size: {{ section.settings.subtext_size }}px !important;
    color: {{ section.settings.subtext_color }} !important;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 10px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }

  /* --- TYPOGRAPHY: HEADING --- */
  .card-heading {
    font-family: {{ section.settings.card_heading_font.family }}, {{ section.settings.card_heading_font.fallback_families }};
    font-weight: {{ section.settings.card_heading_font.weight }};
    font-size: {{ section.settings.card_heading_size }}px !important;
    color: {{ section.settings.card_heading_color }} !important;
    margin: 0;
    line-height: 1.1;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }

  /* --- TYPOGRAPHY: BUTTON --- */
  .collection-pill-btn {
    position: absolute;
    bottom: 40px; 
    padding: 12px 35px;
    border-radius: {{ section.settings.btn_radius }}px;
    
    /* Button Font Settings */
    font-family: {{ section.settings.btn_font.family }}, {{ section.settings.btn_font.fallback_families }};
    font-weight: {{ section.settings.btn_font.weight }};
    font-size: {{ section.settings.btn_size }}px !important;
    
    text-transform: uppercase;
    color: {{ section.settings.btn_text_color }};
    border: 1px solid {{ section.settings.btn_border_color }};
    background: transparent;
    overflow: hidden;
    z-index: 20;
    pointer-events: auto;
    transition: all 0.4s ease;
  }

  .collection-pill-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: {{ section.settings.btn_hover_bg }}; 
    z-index: -1;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: right;
  }

  .collection-pill-btn:hover::before { transform: translateX(100%); }
  .collection-pill-btn:hover {
    color: {{ section.settings.btn_hover_text }}; 
    border-color: {{ section.settings.btn_hover_text }};
  }

  /* --- MOBILE --- */
  @media (max-width: 768px) {
    .section-heading-{{ section.id }} h2 { font-size: calc({{ section.settings.heading_size_desktop }}px * 0.75) !important; }
    .collection-wrapper { padding-left: {{ section.settings.padding_side_mobile }}%; padding-right: 0; }
    .collection-container {
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 15px;
      scrollbar-width: none;
    }
    .collection-card {
      flex: 0 0 80vw;
      height: 480px; 
    }
  }
{%- endstyle -%}

<div class="section-{{ section.id }}">
  <div class="collection-wrapper">
    {% if section.settings.title != blank %}
      <div class="section-heading-{{ section.id }}">
        <h2>{{ section.settings.title }}</h2>
      </div>
    {% endif %}

    <div class="collection-container">
      {% for block in section.blocks %}
        {% assign collection = collections[block.settings.collection] %}
        {% assign image = block.settings.image | default: collection.image %}
        
        <a href="{{ collection.url | default: '#' }}" class="collection-card">
          {% if image != blank %}
            <img src="{{ image | image_url: width: 1400 }}" loading="lazy" alt="{{ collection.title }}">
          {% else %}
            {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
          {% endif %}
          
          <div class="card-overlay-content">
            <div class="text-content-wrapper">
              {% if block.settings.sub_text != blank %}
                <span class="card-sub-text">{{ block.settings.sub_text }}</span>
              {% endif %}
              <h3 class="card-heading">
                {{ block.settings.heading | default: collection.title | default: 'Collection' }}
              </h3>
            </div>
            <div class="collection-pill-btn">
              {{ block.settings.btn_text | default: 'Shop Now' }}
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Collections Poland Pro",
  "settings": [
    {
      "type": "header",
      "content": "Section Heading Style"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading Text",
      "default": "Curated Collections"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading Font Family",
      "default": "assistant_n7"
    },
    {
      "type": "range",
      "id": "heading_size_desktop",
      "min": 20,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Heading Font Size",
      "default": 40
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#121212"
    },
    {
      "type": "select",
      "id": "heading_align",
      "label": "Heading Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Grid & Layout"
    },
    {
      "type": "select",
      "id": "cards_per_row",
      "label": "Max Cards per Row (Desktop)",
      "options": [
        { "value": "2", "label": "2" },
        { "value": "3", "label": "3" },
        { "value": "4", "label": "4" }
      ],
      "default": "3"
    },
    {
      "type": "range",
      "id": "grid_gap_desktop",
      "min": 0,
      "max": 60,
      "step": 1,
      "unit": "px",
      "label": "Space Between Cards",
      "default": 20
    },
    {
      "type": "range",
      "id": "container_width",
      "min": 1000,
      "max": 1800,
      "step": 20,
      "unit": "px",
      "label": "Container Width",
      "default": 1400
    },
    {
      "type": "header",
      "content": "Card Heading Typography"
    },
    {
      "type": "font_picker",
      "id": "card_heading_font",
      "label": "Font Family",
      "default": "assistant_n7"
    },
    {
      "type": "range",
      "id": "card_heading_size",
      "min": 14,
      "max": 80,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 32
    },
    {
      "type": "color",
      "id": "card_heading_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Card Subheading Typography"
    },
    {
      "type": "font_picker",
      "id": "card_subheading_font",
      "label": "Font Family",
      "default": "assistant_n4"
    },
    {
      "type": "range",
      "id": "subtext_size",
      "min": 10,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 13
    },
    {
      "type": "color",
      "id": "subtext_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Button Typography & Style"
    },
    {
      "type": "font_picker",
      "id": "btn_font",
      "label": "Button Font Family",
      "default": "assistant_n7"
    },
    {
      "type": "range",
      "id": "btn_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Button Font Size",
      "default": 14
    },
    {
      "type": "range",
      "id": "btn_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "label": "Button Corner Radius",
      "default": 50
    },
    {
      "type": "color",
      "id": "btn_text_color",
      "label": "Button Text (Initial)",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "btn_hover_bg",
      "label": "Button Hover Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "btn_hover_text",
      "label": "Button Text (Hover)",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Alignment & Design"
    },
    {
      "type": "select",
      "id": "content_align",
      "label": "Card Content Alignment",
      "options": [
        { "value": "flex-start", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "flex-end", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "card_height_desktop",
      "min": 300,
      "max": 900,
      "step": 10,
      "unit": "px",
      "label": "Card Height",
      "default": 600
    },
    {
      "type": "range",
      "id": "card_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "label": "Card Corner Radius",
      "default": 15
    },
    {
      "type": "header",
      "content": "Global Settings"
    },
    {
      "type": "color",
      "id": "section_bg",
      "label": "Section Background",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "label": "Overlay Opacity",
      "default": 0.5
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Top",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 50
    }
  ],
  "blocks": [
    {
      "type": "collection",
      "name": "Collection",
      "settings": [
        { "type": "collection", "id": "collection", "label": "Select Collection" },
        { "type": "image_picker", "id": "image", "label": "Custom Image" },
        { "type": "text", "id": "sub_text", "label": "Sub Text", "default": "Best Seller" },
        { "type": "text", "id": "heading", "label": "Heading" },
        { "type": "text", "id": "btn_text", "label": "Button Label", "default": "Shop Now" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collections Polish Pro",
      "blocks": [
        { "type": "collection" },
        { "type": "collection" },
        { "type": "collection" }
      ]
    }
  ]
}
{% endschema %}
